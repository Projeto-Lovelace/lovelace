{% extends 'base/template.html.twig' %}

{% block title %}Lovelace{% endblock %}

{% block vendor_css %}
    <link rel="stylesheet" href="/font/iconsmind-s/css/iconsminds.css"/>
    <link rel="stylesheet" href="/font/simple-line-icons/css/simple-line-icons.css"/>
    <link rel="stylesheet" href="/css/vendor/dataTables.bootstrap4.min.css"/>
    <link rel="stylesheet" href="/css/vendor/datatables.responsive.bootstrap4.min.css"/>
    <link rel="stylesheet" href="/css/vendor/perfect-scrollbar.css"/>
    <link rel="stylesheet" href="/css/vendor/component-custom-switch.min.css"/>
    <link rel="stylesheet" href="/css/main.css"/>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-12">
            <div class="mb-3">
                <h1>Volunt√°rios</h1>
            </div>
            <div class="mb-2">
                <a class="btn pt-0 pl-0 d-inline-block d-md-none" data-toggle="collapse" href="#displayOptions"
                   role="button" aria-expanded="true" aria-controls="displayOptions">
                    Display Options
                    <i class="simple-icon-arrow-down align-middle"></i>
                </a>
            </div>
            <p>Total : {{ count }} inscritos</p>
            <div class="separator mb-5"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <table class="responsive nowrap">
                <thead>
                <tr>
                    <th>Nome</th>
                    <th>Email</th>
                    <th>Telefone</th>
                    <th>Especialidade</th>
                    <th>Extra</th>
                </tr>
                </thead>
                <tbody>
                {% for volunteer in volunteers %}
                    <tr>
                        <td class="p-2 border">
                            <p class="list-item-heading">{{ volunteer.name }}</p>
                        </td>
                        <td class="p-2 border">
                            <p class="text-muted">{{ volunteer.email }}</p>
                        </td>
                        <td class="p-2 border">
                            <p class="text-muted">{{ volunteer.phone }} <span>
                                    <a href="https://wa.me/{{ volunteer.phone }}" target="_blank">
                                        <img src="/img/whatsapplogo.png" style="width: 25px; padding-left: 5px">
                                    </a>
                                </span></p>
                        </td>
                        <td class="p-2 border">
                            <p class="text-muted">{{ volunteer.specialty }}</p>
                        </td>
                        <td class="p-2 border">
                            <p class="text-muted">{{ volunteer.extra }}</p>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script src="/js/vendor/datatables.min.js"></script>

    <script>

        $(document).ready(function () {
            $('#escalation').DataTable();
        });

        function searchUser() {
            var input, filter, fullUserList, usernameTag, usernameIndexText, i, txtValue;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            fullUserList = document.getElementById("usersList");
            usernameTag = fullUserList.getElementsByClassName("username");
            for (i = 0; i < usernameTag.length; i++) {
                usernameIndexText = usernameTag[i]
                txtValue = usernameIndexText.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tab = document.getElementById(usernameIndexText.innerText)
                    tab.style.display = "";
                } else {
                    tab = document.getElementById(usernameIndexText.innerText)
                    tab.style.display = "none";
                }
            }
        }
    </script>
{% endblock %}